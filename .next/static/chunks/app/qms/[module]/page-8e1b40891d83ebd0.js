(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{4277:function(e,a,t){Promise.resolve().then(t.bind(t,5400))},5400:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return ei}});var s=t(7437),l=t(6463),r=t(2265),n=t(9733),i=t(7209),d=t(2513),o=t(2421),c=t(4817),x=t(404),h=t(6900),u=t(6477),m=t(3550),p=t(1590);function g(e){let{entityName:a,onNewClick:t}=e,[l,g]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"bg-white border-b border-slate-200 px-6 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsxs)(p.h_,{children:[(0,s.jsx)(p.$F,{asChild:!0,children:(0,s.jsxs)(n.z,{className:"bg-emerald-600 hover:bg-emerald-700 text-white flex items-center gap-1",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"})," New ",a," ",(0,s.jsx)(o.Z,{className:"w-4 h-4 ml-1"})]})}),(0,s.jsx)(p.AW,{align:"start",children:(0,s.jsxs)(p.Xi,{onClick:t,children:["New ",a]})})]}),(0,s.jsxs)("div",{className:"relative flex-1 min-w-[150px] max-w-xs",children:[(0,s.jsx)(c.Z,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,s.jsx)(i.I,{type:"text",placeholder:"Search...",className:"pl-8 pr-2 py-1 border border-slate-200 rounded-md text-sm focus:border-emerald-500 focus:ring-emerald-500",value:l,onChange:e=>g(e.target.value)})]}),(0,s.jsxs)(n.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"})," Filter",v&&(0,s.jsx)("span",{className:"ml-1 text-xs font-semibold bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded-full",children:"Active"})]}),(0,s.jsxs)(n.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"})," Sort",f&&(0,s.jsx)("span",{className:"ml-1 text-xs font-semibold bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded-full",children:"Active"})]}),(0,s.jsxs)(n.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"})," Group by"]}),(0,s.jsxs)(p.h_,{children:[(0,s.jsx)(p.$F,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",size:"icon",className:"text-slate-700 border-slate-200 hover:bg-slate-50",children:(0,s.jsx)(m.Z,{className:"w-4 h-4"})})}),(0,s.jsxs)(p.AW,{align:"end",children:[(0,s.jsx)(p.Xi,{children:"Placeholder Option 1"}),(0,s.jsx)(p.Xi,{children:"Placeholder Option 2"})]})]})]})})}var v=t(4541),j=t(8030);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,j.Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var N=t(2468);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,j.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var y=t(7592),w=t(9354);let C={Draft:"bg-slate-100 text-slate-800 border border-slate-200",Approved:"bg-emerald-100 text-emerald-800 border border-emerald-200",Expired:"bg-rose-100 text-rose-800 border border-rose-200",Open:"bg-amber-100 text-amber-800 border border-amber-200","In Progress":"bg-sky-100 text-sky-800 border border-sky-200",Closed:"bg-emerald-100 text-emerald-800 border border-emerald-200",Proposed:"bg-blue-100 text-blue-800 border border-blue-200",Rejected:"bg-rose-100 text-rose-800 border border-rose-200",Implemented:"bg-teal-100 text-teal-800 border border-teal-200","Not Started":"bg-slate-100 text-slate-800 border border-slate-200",Completed:"bg-emerald-100 text-emerald-800 border border-emerald-200"};function D(e){let{status:a}=e;return a?(0,s.jsx)("span",{className:(0,w.cn)("px-2 py-0.5 rounded-full text-xs font-medium",C[a]),children:a}):(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium border border-slate-300 bg-white text-transparent",children:"\xa0"})}var S=t(8859),k=t(8324),P=t(5171),I="Progress",[A,F]=(0,k.b)(I),[_,U]=A(I),O=r.forwardRef((e,a)=>{var t,l,r,n;let{__scopeProgress:i,value:d=null,max:o,getValueLabel:c=T,...x}=e;(o||0===o)&&!R(o)&&console.error((t="".concat(o),l="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(l,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=R(o)?o:100;null===d||B(d,h)||console.error((r="".concat(d),n="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(n,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let u=B(d,h)?d:null,m=Z(u)?c(u,h):void 0;return(0,s.jsx)(_,{scope:i,value:u,max:h,children:(0,s.jsx)(P.WV.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":Z(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":M(u,h),"data-value":null!=u?u:void 0,"data-max":h,...x,ref:a})})});O.displayName=I;var z="ProgressIndicator",E=r.forwardRef((e,a)=>{var t;let{__scopeProgress:l,...r}=e,n=U(z,l);return(0,s.jsx)(P.WV.div,{"data-state":M(n.value,n.max),"data-value":null!==(t=n.value)&&void 0!==t?t:void 0,"data-max":n.max,...r,ref:a})});function T(e,a){return"".concat(Math.round(e/a*100),"%")}function M(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function Z(e){return"number"==typeof e}function R(e){return Z(e)&&!isNaN(e)&&e>0}function B(e,a){return Z(e)&&!isNaN(e)&&e<=a&&e>=0}E.displayName=z;let W=r.forwardRef((e,a)=>{let{className:t,value:l,...r}=e;return(0,s.jsx)(O,{ref:a,className:(0,w.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:(0,s.jsx)(E,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});W.displayName=O.displayName;var V=t(1413),L=t(9081),Q=t(6343),J=t(9888);function X(e){let{columns:a,data:t,setData:l,onRowClick:d,module:o}=e,[c,x]=(0,r.useState)(new Set),[h,u]=(0,r.useState)(null),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{m.current&&h&&m.current.focus()},[h]);let p=(e,a)=>{x(t=>{let s=new Set(t);return a?s.add(e):s.delete(e),s})},g=e=>{e?x(new Set(t.map(e=>e.id))):x(new Set)},j=(e,a,t)=>{l(s=>s.map(s=>s.id===e?{...s,[a]:t}:s))},C=(e,a,t)=>{"Enter"===e.key?u(null):"Escape"===e.key&&u(null)},k=e=>{switch(e){case"sop-register":return["Draft","Approved","Expired"];case"capa":return["Open","In Progress","Closed"];case"change-control":return["Proposed","Approved","Rejected","Implemented"];case"training":return["Not Started","In Progress","Completed"];default:return[]}},P=(e,a)=>{let t=e[a.accessor],l=(null==h?void 0:h.id)===e.id&&h.field===a.accessor;switch(a.type){case"status":let r=k(o);return(0,s.jsxs)(J.Ph,{value:t,onValueChange:t=>j(e.id,a.accessor,t),children:[(0,s.jsx)(J.i4,{className:"h-7 w-28 px-2 py-0.5 text-xs border-slate-300 rounded-full bg-white text-slate-700 hover:bg-slate-50",children:(0,s.jsx)(J.ki,{placeholder:t?(0,s.jsx)(D,{status:t}):(0,s.jsx)(D,{status:""})})}),(0,s.jsx)(J.Bw,{children:r.map(e=>(0,s.jsx)(J.Ql,{value:e,children:(0,s.jsx)(D,{status:e})},e||"empty"))})]});case"date":return(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"ghost",className:(0,w.cn)("h-7 w-full justify-start text-left font-normal px-2 py-0.5 text-xs",!t&&"text-slate-500"),children:t?(0,Q.WU)(new Date(t),"MMM d, yyyy"):"Set Date"})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:t?new Date(t):void 0,onSelect:t=>j(e.id,a.accessor,t?(0,Q.WU)(t,"yyyy-MM-dd"):void 0),initialFocus:!0})})]});case"progress":return(0,s.jsx)(W,{value:t,className:"w-24 h-2"});case"file":return(0,s.jsxs)("div",{className:"flex items-center gap-1 text-slate-600",children:[(0,s.jsx)(f,{className:"w-4 h-4"})," ",t]});case"update":return(0,s.jsx)(S.v,{count:t});case"signature":return t?(0,s.jsx)(N.Z,{className:"w-5 h-5 text-emerald-600"}):(0,s.jsx)("span",{className:"text-slate-400",children:"-"});case"download":return(0,s.jsx)(n.z,{variant:"ghost",size:"icon",children:(0,s.jsx)(b,{className:"w-4 h-4"})});case"select":var d;return(0,s.jsxs)(J.Ph,{value:t,onValueChange:t=>j(e.id,a.accessor,t),children:[(0,s.jsx)(J.i4,{className:"h-8 px-2 py-1 text-sm border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",children:(0,s.jsx)(J.ki,{placeholder:t||"Select ".concat(a.header)})}),(0,s.jsx)(J.Bw,{children:null===(d=a.options)||void 0===d?void 0:d.map(e=>(0,s.jsx)(J.Ql,{value:e,children:e},e))})]});default:return l?(0,s.jsx)(i.I,{ref:m,value:t,onChange:t=>j(e.id,a.accessor,t.target.value),onBlur:()=>u(null),onKeyDown:t=>C(t,e.id,a.accessor),className:"h-8 px-2 py-1 text-sm border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"}):(0,s.jsx)("span",{onClick:()=>u({id:e.id,field:a.accessor}),className:"flex-1 cursor-text min-w-[50px] block",children:t||"—"})}};return(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200 sticky top-0 h-12",children:[(0,s.jsx)("th",{className:"w-12 px-3 py-2 text-left",children:(0,s.jsx)(v.X,{checked:c.size===t.length&&t.length>0,onCheckedChange:e=>g(e),"aria-label":"Select all"})}),a.map(e=>(0,s.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:e.header},e.accessor))]})}),(0,s.jsxs)("tbody",{children:[t.map(e=>{let t=c.has(e.id);return(0,s.jsxs)("tr",{className:(0,w.cn)("h-14 border-b border-slate-100 hover:bg-slate-50 transition-colors group",t&&"bg-emerald-50 border-l-4 border-emerald-600"),children:[(0,s.jsx)("td",{className:"w-12 px-3 py-2",children:(0,s.jsx)(v.X,{checked:t,onCheckedChange:a=>p(e.id,a),"aria-label":"Select row ".concat(e[a[0].accessor])})}),a.map(t=>(0,s.jsx)("td",{className:"px-3 py-2",onClick:()=>d(e),children:t.accessor===a[0].accessor?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.z,{variant:"ghost",size:"icon",className:"h-auto w-auto p-0 text-slate-400 group-hover:text-slate-700 transition-colors",children:(0,s.jsx)(y.Z,{className:"w-4 h-4"})}),P(e,t)]}):P(e,t)},t.accessor))]},e.id)}),0===t.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:a.length+1,className:"text-center text-slate-400 py-6",children:"No items found."})})]})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4 px-4 py-2 text-sm text-slate-600 border-t border-slate-200",children:[(0,s.jsx)("span",{children:0===t.length?"No items":"showing 1–".concat(t.length," of ").concat(t.length)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.z,{variant:"outline",size:"sm",disabled:!0,className:"border-slate-200 text-slate-700 hover:bg-slate-50",children:"Prev"}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",disabled:!0,className:"border-slate-200 text-slate-700 hover:bg-slate-50",children:"Next"})]})]})]})}var q=t(6864),H=t(4919),$=t(402),G=t(420),K=t(2365),Y=t(2092),ee=t(3907),ea=t(994),et=t(8184),es=t(2023),el=t(933);function er(e){let{item:a,module:t,open:l,onClose:d,onSaved:o}=e,[c,x]=(0,r.useState)(a),[h,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)("details"),[g,j]=(0,r.useState)([]),[f,N]=(0,r.useState)([]),[b,y]=(0,r.useState)([]),[C,S]=(0,r.useState)(""),[k,P]=(0,r.useState)(null),I="sop-register"===t;if((0,r.useEffect)(()=>{x(a),a&&l?setTimeout(()=>{j([{id:"1",author:{name:"Admin",initials:"A"},timestamp:"2024-07-29T10:00:00Z",content:"Initial review completed."}]),N([{id:"1",name:"Document.pdf",size:"1.5 MB",uploadedAt:"2024-07-29T10:10:00Z"}]),y([{id:"a1",field:"status",oldValue:"Draft",newValue:"Approved",at:"2024-07-29T10:05:00Z"}])},500):(j([]),N([]),y([]),S(""),P(null))},[a,l]),!l||!c)return null;let A=async()=>{u(!0);try{console.log("Saving item:",c),o(c)}finally{u(!1)}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-slate-900/30",onClick:d}),(0,s.jsxs)("aside",{className:"relative ml-auto w-full max-w-md bg-white h-full shadow-lg flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[(0,s.jsx)("div",{className:"font-semibold text-lg text-slate-900",children:"Item Details"}),(0,s.jsx)("button",{className:"text-2xl text-slate-400 hover:text-slate-600",onClick:d,children:"\xd7"})]}),(0,s.jsxs)(q.mQ,{value:m,onValueChange:p,className:"flex flex-col flex-1",children:[(0,s.jsxs)(q.dr,{className:"grid w-full grid-cols-4 h-auto rounded-none border-b border-slate-200 bg-slate-50 p-0",children:[(0,s.jsx)(q.SP,{value:"details",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:"Details"}),(0,s.jsxs)(q.SP,{value:"updates",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:["Updates (",g.length,")"]}),(0,s.jsxs)(q.SP,{value:"files",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:["Files (",f.length,")"]}),(0,s.jsx)(q.SP,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:"Activity"}),I&&(0,s.jsx)(q.SP,{value:"training",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:"Training"})]}),(0,s.jsx)(q.nU,{value:"details",className:"flex-1 p-4 overflow-y-auto",children:(()=>{switch(t){case"sop-register":return(0,s.jsxs)("form",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"sopNumber",children:"SOP #"}),(0,s.jsx)(i.I,{id:"sopNumber",value:c.sopNumber,onChange:e=>x({...c,sopNumber:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"title",children:"Title"}),(0,s.jsx)(i.I,{id:"title",value:c.title,onChange:e=>x({...c,title:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"version",children:"Version"}),(0,s.jsx)(i.I,{id:"version",value:c.version,onChange:e=>x({...c,version:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(J.Ph,{value:c.status,onValueChange:e=>x({...c,status:e}),children:[(0,s.jsx)(J.i4,{children:(0,s.jsx)(J.ki,{placeholder:"Select Status"})}),(0,s.jsx)(J.Bw,{children:["Draft","Approved","Expired"].map(e=>(0,s.jsx)(J.Ql,{value:e,children:(0,s.jsx)(D,{status:e})},e))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"owner",children:"Owner"}),(0,s.jsx)(i.I,{id:"owner",value:c.owner,onChange:e=>x({...c,owner:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"effectiveDate",children:"Effective Date"}),(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal",!c.effectiveDate&&"text-muted-foreground"),children:c.effectiveDate?(0,Q.WU)(new Date(c.effectiveDate),"PPP"):(0,s.jsx)("span",{children:"Pick a date"})})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:c.effectiveDate?new Date(c.effectiveDate):void 0,onSelect:e=>x({...c,effectiveDate:e?(0,Q.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"reviewDate",children:"Review Date"}),(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal",!c.reviewDate&&"text-muted-foreground"),children:c.reviewDate?(0,Q.WU)(new Date(c.reviewDate),"PPP"):(0,s.jsx)("span",{children:"Pick a date"})})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:c.reviewDate?new Date(c.reviewDate):void 0,onSelect:e=>x({...c,reviewDate:e?(0,Q.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"trainingProgress",children:"Training Progress (%)"}),(0,s.jsx)(i.I,{id:"trainingProgress",type:"number",min:0,max:100,value:c.trainingProgress,onChange:e=>x({...c,trainingProgress:Number(e.target.value)})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"fileCount",children:"File Count"}),(0,s.jsx)(i.I,{id:"fileCount",type:"number",min:0,value:c.fileCount,onChange:e=>x({...c,fileCount:Number(e.target.value)})})]})]});case"capa":return(0,s.jsxs)("form",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"capaId",children:"CAPA ID"}),(0,s.jsx)(i.I,{id:"capaId",value:c.capaId,onChange:e=>x({...c,capaId:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"issue",children:"Issue"}),(0,s.jsx)(H.g,{id:"issue",value:c.issue,onChange:e=>x({...c,issue:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"rootCause",children:"Root Cause"}),(0,s.jsx)(H.g,{id:"rootCause",value:c.rootCause,onChange:e=>x({...c,rootCause:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(J.Ph,{value:c.status,onValueChange:e=>x({...c,status:e}),children:[(0,s.jsx)(J.i4,{children:(0,s.jsx)(J.ki,{placeholder:"Select Status"})}),(0,s.jsx)(J.Bw,{children:["Open","In Progress","Closed"].map(e=>(0,s.jsx)(J.Ql,{value:e,children:(0,s.jsx)(D,{status:e})},e))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"linkedSop",children:"Linked SOP"}),(0,s.jsx)(i.I,{id:"linkedSop",value:c.linkedSop,onChange:e=>x({...c,linkedSop:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"owner",children:"Owner"}),(0,s.jsx)(i.I,{id:"owner",value:c.owner,onChange:e=>x({...c,owner:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"targetCloseDate",children:"Target Close Date"}),(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal",!c.targetCloseDate&&"text-muted-foreground"),children:c.targetCloseDate?(0,Q.WU)(new Date(c.targetCloseDate),"PPP"):(0,s.jsx)("span",{children:"Pick a date"})})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:c.targetCloseDate?new Date(c.targetCloseDate):void 0,onSelect:e=>x({...c,targetCloseDate:e?(0,Q.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"updatesCount",children:"Updates Count"}),(0,s.jsx)(i.I,{id:"updatesCount",type:"number",min:0,value:c.updatesCount,onChange:e=>x({...c,updatesCount:Number(e.target.value)})})]})]});case"change-control":return(0,s.jsxs)("form",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"changeId",children:"Change ID"}),(0,s.jsx)(i.I,{id:"changeId",value:c.changeId,onChange:e=>x({...c,changeId:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"description",children:"Description"}),(0,s.jsx)(H.g,{id:"description",value:c.description,onChange:e=>x({...c,description:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"impactAssessment",children:"Impact Assessment"}),(0,s.jsx)(H.g,{id:"impactAssessment",value:c.impactAssessment,onChange:e=>x({...c,impactAssessment:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(J.Ph,{value:c.status,onValueChange:e=>x({...c,status:e}),children:[(0,s.jsx)(J.i4,{children:(0,s.jsx)(J.ki,{placeholder:"Select Status"})}),(0,s.jsx)(J.Bw,{children:["Proposed","Approved","Rejected","Implemented"].map(e=>(0,s.jsx)(J.Ql,{value:e,children:(0,s.jsx)(D,{status:e})},e))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"linkedEntity",children:"Linked Entity"}),(0,s.jsx)(i.I,{id:"linkedEntity",value:c.linkedEntity,onChange:e=>x({...c,linkedEntity:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"owner",children:"Owner"}),(0,s.jsx)(i.I,{id:"owner",value:c.owner,onChange:e=>x({...c,owner:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"approvalDate",children:"Approval Date"}),(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal",!c.approvalDate&&"text-muted-foreground"),children:c.approvalDate?(0,Q.WU)(new Date(c.approvalDate),"PPP"):(0,s.jsx)("span",{children:"Pick a date"})})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:c.approvalDate?new Date(c.approvalDate):void 0,onSelect:e=>x({...c,approvalDate:e?(0,Q.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]})]});case"training":return(0,s.jsxs)("form",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"user",children:"User"}),(0,s.jsx)(i.I,{id:"user",value:c.user,onChange:e=>x({...c,user:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"sopAssigned",children:"SOP Assigned"}),(0,s.jsx)(i.I,{id:"sopAssigned",value:c.sopAssigned,onChange:e=>x({...c,sopAssigned:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(J.Ph,{value:c.status,onValueChange:e=>x({...c,status:e}),children:[(0,s.jsx)(J.i4,{children:(0,s.jsx)(J.ki,{placeholder:"Select Status"})}),(0,s.jsx)(J.Bw,{children:["Not Started","In Progress","Completed"].map(e=>(0,s.jsx)(J.Ql,{value:e,children:(0,s.jsx)(D,{status:e})},e))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"assignedDate",children:"Assigned Date"}),(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal",!c.assignedDate&&"text-muted-foreground"),children:c.assignedDate?(0,Q.WU)(new Date(c.assignedDate),"PPP"):(0,s.jsx)("span",{children:"Pick a date"})})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:c.assignedDate?new Date(c.assignedDate):void 0,onSelect:e=>x({...c,assignedDate:e?(0,Q.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"completedDate",children:"Completed Date"}),(0,s.jsxs)(V.J2,{children:[(0,s.jsx)(V.xo,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",className:(0,w.cn)("w-full justify-start text-left font-normal",!c.completedDate&&"text-muted-foreground"),children:c.completedDate?(0,Q.WU)(new Date(c.completedDate),"PPP"):(0,s.jsx)("span",{children:"Pick a date"})})}),(0,s.jsx)(V.yk,{className:"w-auto p-0",children:(0,s.jsx)(L.f,{mode:"single",selected:c.completedDate?new Date(c.completedDate):void 0,onSelect:e=>x({...c,completedDate:e?(0,Q.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v.X,{id:"signature",checked:c.signature,onCheckedChange:e=>x({...c,signature:e})}),(0,s.jsx)($._,{htmlFor:"signature",children:"Signature"})]})]});case"audit-log":return(0,s.jsxs)("form",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"eventId",children:"Event ID"}),(0,s.jsx)(i.I,{id:"eventId",value:c.eventId,onChange:e=>x({...c,eventId:e.target.value}),readOnly:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"entity",children:"Entity"}),(0,s.jsx)(i.I,{id:"entity",value:c.entity,onChange:e=>x({...c,entity:e.target.value}),readOnly:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"action",children:"Action"}),(0,s.jsx)(i.I,{id:"action",value:c.action,onChange:e=>x({...c,action:e.target.value}),readOnly:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"user",children:"User"}),(0,s.jsx)(i.I,{id:"user",value:c.user,onChange:e=>x({...c,user:e.target.value}),readOnly:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"timestamp",children:"Timestamp"}),(0,s.jsx)(i.I,{id:"timestamp",value:(0,Q.WU)(new Date(c.timestamp),"PPP p"),readOnly:!0})]})]});case"vault":return(0,s.jsxs)("form",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"fileName",children:"File Name"}),(0,s.jsx)(i.I,{id:"fileName",value:c.fileName,onChange:e=>x({...c,fileName:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"linkedEntity",children:"Linked Entity"}),(0,s.jsx)(i.I,{id:"linkedEntity",value:c.linkedEntity,onChange:e=>x({...c,linkedEntity:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"type",children:"Type"}),(0,s.jsxs)(J.Ph,{value:c.type,onValueChange:e=>x({...c,type:e}),children:[(0,s.jsx)(J.i4,{children:(0,s.jsx)(J.ki,{placeholder:"Select Type"})}),(0,s.jsx)(J.Bw,{children:["Document","Image","Spreadsheet","Presentation","Other"].map(e=>(0,s.jsx)(J.Ql,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"uploadedBy",children:"Uploaded By"}),(0,s.jsx)(i.I,{id:"uploadedBy",value:c.uploadedBy,onChange:e=>x({...c,uploadedBy:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)($._,{htmlFor:"dateUploaded",children:"Date Uploaded"}),(0,s.jsx)(i.I,{id:"dateUploaded",value:(0,Q.WU)(new Date(c.dateUploaded),"PPP p"),readOnly:!0})]})]});default:return(0,s.jsx)("div",{className:"text-slate-600",children:"No details form available for this module."})}})()}),(0,s.jsxs)(q.nU,{value:"updates",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"border border-slate-200 rounded-lg p-3 mb-4 bg-slate-50",children:[(0,s.jsx)(H.g,{placeholder:"Add an update...",className:"w-full border-none focus-visible:ring-0 resize-none bg-transparent text-slate-900 placeholder:text-slate-500",rows:3,value:C,onChange:e=>S(e.target.value)}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.z,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",children:(0,s.jsx)(K.Z,{className:"w-4 h-4"})}),(0,s.jsx)(n.z,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",children:(0,s.jsx)(Y.Z,{className:"w-4 h-4"})}),(0,s.jsx)(n.z,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",children:(0,s.jsx)(ee.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)(n.z,{size:"sm",onClick:()=>{if(C.trim()){let e={id:String(g.length+1),author:{name:"Current User",initials:"CU"},timestamp:new Date().toISOString(),content:C.trim()};j(a=>[e,...a]),S("")}},disabled:!C.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,s.jsx)(ea.Z,{className:"w-4 h-4 mr-2"})," Update"]})]})]}),(0,s.jsx)("div",{className:"flex-1 space-y-4",children:0===g.length?(0,s.jsx)("div",{className:"text-center text-slate-500 py-6",children:"No updates yet."}):g.map(e=>(0,s.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,s.jsx)(G.qE,{className:"w-8 h-8",children:(0,s.jsx)(G.Q5,{className:"bg-emerald-100 text-emerald-800",children:e.author.initials})}),(0,s.jsxs)("div",{className:"flex-1 bg-slate-50 rounded-lg p-3 border border-slate-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"font-semibold text-slate-900",children:e.author.name}),(0,s.jsx)("span",{className:"text-xs text-slate-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,s.jsx)("p",{className:"text-sm text-slate-700",children:e.content})]})]},e.id))})]}),(0,s.jsxs)(q.nU,{value:"files",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{id:"file-upload",type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){P(e.target.files[0]);let a={id:String(f.length+1),name:e.target.files[0].name,size:(e.target.files[0].size/1024/1024).toFixed(2)+" MB",uploadedAt:new Date().toISOString()};N(e=>[...e,a]),P(null)}}}),(0,s.jsxs)("label",{htmlFor:"file-upload",className:"flex items-center justify-center gap-2 px-4 py-2 border border-dashed border-slate-300 rounded-md cursor-pointer text-slate-700 hover:bg-slate-50 transition-colors",children:[(0,s.jsx)(et.Z,{className:"w-4 h-4"})," Upload File"]})]}),(0,s.jsx)("div",{className:"flex-1 space-y-2",children:0===f.length?(0,s.jsx)("div",{className:"text-center text-slate-500 py-6",children:"No files uploaded."}):f.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-2 border border-slate-200 rounded-md bg-slate-50",children:[(0,s.jsx)(es.Z,{className:"w-5 h-5 text-slate-500"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-slate-900",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-slate-600",children:[e.size," - ",new Date(e.uploadedAt).toLocaleDateString()]})]})]},e.id))})]}),(0,s.jsxs)(q.nU,{value:"activity",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,s.jsx)("div",{className:"font-semibold mb-2 text-slate-900",children:"Audit Trail"}),0===b.length?(0,s.jsx)("div",{className:"text-center text-slate-500 py-6",children:"No activity yet."}):(0,s.jsx)("ul",{className:"space-y-3 text-sm",children:b.map(e=>{var a,t;return(0,s.jsxs)("li",{className:"border-b border-slate-100 pb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[(0,s.jsx)(el.Z,{className:"w-4 h-4 text-slate-500"}),(0,s.jsx)("span",{className:"font-medium",children:e.field})," changed from\xa0",(0,s.jsx)("span",{className:"line-through text-rose-500",children:null!==(a=e.oldValue)&&void 0!==a?a:"—"}),"\xa0to\xa0",(0,s.jsx)("span",{className:"text-emerald-600",children:null!==(t=e.newValue)&&void 0!==t?t:"—"})]}),(0,s.jsx)("div",{className:"text-xs text-slate-500 mt-1 ml-6",children:new Date(e.at).toLocaleString()})]},e.id)})})]}),I&&(0,s.jsx)(q.nU,{value:"training",className:"flex-1 p-4 overflow-y-auto",children:(0,s.jsx)("div",{className:"text-slate-600",children:"Training completion status will be shown here."})})]}),(0,s.jsxs)("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[(0,s.jsx)(n.z,{type:"button",variant:"secondary",onClick:d,className:"bg-slate-100 hover:bg-slate-200 text-slate-800",children:"Close"}),(0,s.jsx)(n.z,{type:"submit",disabled:h,onClick:A,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"Save Changes"})]})]})]})}let en={"sop-register":{title:"SOP Register",TableComponent:function(e){let{onRowClick:a}=e,[t,l]=(0,r.useState)(()=>Array.from({length:12}).map((e,a)=>({id:"temp-".concat(a),sopNumber:"SOP-".concat(100+a),title:"Standard Operating Procedure ".concat(a+1),version:"1.0.".concat(a),status:a%3==0?"Draft":a%3==1?"Approved":"Expired",owner:"Owner ".concat(a+1),effectiveDate:"2024-01-".concat(a%28+1),reviewDate:"2025-01-".concat(a%28+1),trainingProgress:10*a%100,fileCount:a%5})));return(0,s.jsx)(X,{columns:[{accessor:"sopNumber",header:"SOP #"},{accessor:"title",header:"Title"},{accessor:"version",header:"Version"},{accessor:"status",header:"Status",type:"status"},{accessor:"owner",header:"Owner"},{accessor:"effectiveDate",header:"Effective Date",type:"date"},{accessor:"reviewDate",header:"Review Date",type:"date"},{accessor:"trainingProgress",header:"Training %",type:"progress"},{accessor:"fileCount",header:"Files",type:"file"}],data:t,setData:l,onRowClick:a,module:"sop-register"})},entityName:"SOP"},capa:{title:"CAPA",TableComponent:function(e){let{onRowClick:a}=e,[t,l]=(0,r.useState)(()=>Array.from({length:12}).map((e,a)=>({id:"temp-".concat(a),capaId:"CAPA-".concat(200+a),issue:"Issue description ".concat(a+1),rootCause:"Root cause ".concat(a+1),status:a%3==0?"Open":a%3==1?"In Progress":"Closed",linkedSop:"SOP-".concat(100+a%5),owner:"Owner ".concat(a+1),targetCloseDate:"2024-08-".concat(a%28+1),updatesCount:a%4})));return(0,s.jsx)(X,{columns:[{accessor:"capaId",header:"CAPA ID"},{accessor:"issue",header:"Issue"},{accessor:"rootCause",header:"Root Cause"},{accessor:"status",header:"Status",type:"status"},{accessor:"linkedSop",header:"Linked SOP"},{accessor:"owner",header:"Owner"},{accessor:"targetCloseDate",header:"Target Close Date",type:"date"},{accessor:"updatesCount",header:"Updates",type:"update"}],data:t,setData:l,onRowClick:a,module:"capa"})},entityName:"CAPA"},"change-control":{title:"Change Control",TableComponent:function(e){let{onRowClick:a}=e,[t,l]=(0,r.useState)(()=>Array.from({length:12}).map((e,a)=>({id:"temp-".concat(a),changeId:"CC-".concat(300+a),description:"Change description ".concat(a+1),impactAssessment:"Impact assessment for change ".concat(a+1),status:a%4==0?"Proposed":a%4==1?"Approved":a%4==2?"Rejected":"Implemented",linkedEntity:"Product A-".concat(a%3),owner:"Owner ".concat(a+1),approvalDate:"2024-07-".concat(a%28+1)})));return(0,s.jsx)(X,{columns:[{accessor:"changeId",header:"Change ID"},{accessor:"description",header:"Description"},{accessor:"impactAssessment",header:"Impact Assessment"},{accessor:"status",header:"Status",type:"status"},{accessor:"linkedEntity",header:"Linked Entity"},{accessor:"owner",header:"Owner"},{accessor:"approvalDate",header:"Approval Date",type:"date"}],data:t,setData:l,onRowClick:a,module:"change-control"})},entityName:"Change"},training:{title:"Training",TableComponent:function(e){let{onRowClick:a}=e,[t,l]=(0,r.useState)(()=>Array.from({length:12}).map((e,a)=>({id:"temp-".concat(a),user:"User ".concat(a+1),sopAssigned:"SOP-".concat(100+a%5),status:a%3==0?"Not Started":a%3==1?"In Progress":"Completed",assignedDate:"2024-06-".concat(a%28+1),completedDate:a%2==0?"2024-07-".concat(a%28+1):void 0,signature:a%2==0})));return(0,s.jsx)(X,{columns:[{accessor:"user",header:"User"},{accessor:"sopAssigned",header:"SOP Assigned"},{accessor:"status",header:"Status",type:"status"},{accessor:"assignedDate",header:"Assigned Date",type:"date"},{accessor:"completedDate",header:"Completed Date",type:"date"},{accessor:"signature",header:"Signature ✔️",type:"signature"}],data:t,setData:l,onRowClick:a,module:"training"})},entityName:"Training"},"audit-log":{title:"Audit Log",TableComponent:function(e){let{onRowClick:a}=e,[t,l]=(0,r.useState)(()=>Array.from({length:12}).map((e,a)=>({id:"temp-".concat(a),eventId:"AUDIT-".concat(400+a),entity:a%2==0?"SOP":"CAPA",action:a%3==0?"Created":a%3==1?"Updated":"Deleted",user:"Admin ".concat(a%2==0?"A":"B"),timestamp:new Date(Date.now()-36e5*a).toISOString()})));return(0,s.jsx)(X,{columns:[{accessor:"eventId",header:"Event ID"},{accessor:"entity",header:"Entity"},{accessor:"action",header:"Action"},{accessor:"user",header:"User"},{accessor:"timestamp",header:"Timestamp"}],data:t,setData:l,onRowClick:a,module:"audit-log"})},entityName:"Event"},vault:{title:"Vault",TableComponent:function(e){let{onRowClick:a}=e,[t,l]=(0,r.useState)(()=>Array.from({length:12}).map((e,a)=>({id:"temp-".concat(a),fileName:"Document_".concat(a+1,".pdf"),linkedEntity:"SOP-".concat(100+a%5),type:a%3==0?"Document":a%3==1?"Image":"Spreadsheet",uploadedBy:"User ".concat(a+1),dateUploaded:new Date(Date.now()-864e5*a).toISOString()})));return(0,s.jsx)(X,{columns:[{accessor:"fileName",header:"File Name"},{accessor:"linkedEntity",header:"Linked Entity"},{accessor:"type",header:"Type",type:"select",options:["Document","Image","Spreadsheet","Presentation","Other"]},{accessor:"uploadedBy",header:"Uploaded By"},{accessor:"dateUploaded",header:"Date Uploaded",type:"date"},{accessor:"download",header:"Download",type:"download"}],data:t,setData:l,onRowClick:a,module:"vault"})},entityName:"File"}};function ei(){var e,a;let t=(0,l.useParams)(),n=null!==(a=Array.isArray(null==t?void 0:t.module)?null==t?void 0:null===(e=t.module)||void 0===e?void 0:e[0]:null==t?void 0:t.module)&&void 0!==a?a:"sop-register",i=(0,r.useMemo)(()=>en[n],[n]),[d,o]=(0,r.useState)(!1),[c,x]=(0,r.useState)(null);if(!i)return(0,s.jsx)("div",{className:"p-6",children:"Module not found."});let{TableComponent:h}=i;return(0,s.jsxs)("div",{className:"flex-1 flex flex-col h-full bg-slate-50",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-slate-200 bg-white",children:(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:i.title})}),(0,s.jsx)(g,{entityName:i.entityName,onNewClick:()=>{let e;let a="temp-".concat(Date.now());switch(n){case"sop-register":e={id:a,sopNumber:"",title:"",version:"",status:"",owner:"",trainingProgress:0,fileCount:0};break;case"capa":e={id:a,capaId:"",issue:"",rootCause:"",status:"",linkedSop:"",owner:"",updatesCount:0};break;case"change-control":e={id:a,changeId:"",description:"",impactAssessment:"",status:"",linkedEntity:"",owner:""};break;case"training":e={id:a,user:"",sopAssigned:"",status:"",signature:!1};break;case"audit-log":e={id:a,eventId:"",entity:"",action:"",user:"",timestamp:new Date().toISOString()};break;case"vault":e={id:a,fileName:"",linkedEntity:"",type:"",uploadedBy:"",dateUploaded:new Date().toISOString()};break;default:throw Error("Unknown QMS module: ".concat(String(n)))}x(e),o(!0)}}),(0,s.jsx)("main",{className:"flex-1 p-6 overflow-y-auto",children:(0,s.jsx)(h,{onRowClick:e=>{x(e),o(!0)}})}),(0,s.jsx)(er,{item:c,module:n,open:d,onClose:()=>o(!1),onSaved:e=>{o(!1)}})]})}}},function(e){e.O(0,[787,84,691,915,971,23,744],function(){return e(e.s=4277)}),_N_E=e.O()}]);