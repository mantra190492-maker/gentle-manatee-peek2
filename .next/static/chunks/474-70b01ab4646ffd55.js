"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[474],{2043:function(e,s,t){t.d(s,{E:function(){return S}});var a=t(7437),l=t(2934),r=t(2265),n=t(7559),i=t(3954),d=t(9354),o=t(6127);let c={Critical:"bg-amber-100 text-amber-900 border border-amber-200",High:"bg-purple-100 text-purple-800 border border-purple-200",Medium:"bg-blue-100 text-blue-800 border border-blue-200",Low:"bg-slate-100 text-slate-700 border border-slate-200"};function x(e){let{priority:s,icon:t,isEmpty:l=!1}=e;return l||!s?(0,a.jsx)("span",{className:"inline-flex items-center justify-center h-7 w-20 rounded-full text-xs font-medium border border-slate-300 bg-white text-transparent",children:"\xa0"}):(0,a.jsxs)("span",{className:(0,d.cn)("inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",c[s]),children:["Critical"===s&&(0,a.jsx)(o.Z,{className:"w-3 h-3"}),t,s]})}var m=t(8859),h=t(4541),u=t(7592),p=t(1413),b=t(9733),j=t(7209),f=t(9888),g=t(9081),v=t(6343);let N=["","New","In Progress","Negotiation","Won","Lost"],w=["","Critical","High","Medium","Low"];function y(e){let{initialRows:s=12,onOpenDrawer:t,tempLeads:l,setTempLeads:n,onAddRow:o}=e,[c,y]=(0,r.useState)(new Set),[F,C]=(0,r.useState)(null),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{S.current&&F&&S.current.focus()},[F]);let k=(e,s)=>{y(t=>{let a=new Set(t);return s?a.add(e):a.delete(e),a})},z=e=>{e?y(new Set(l.map(e=>e.id))):y(new Set)},U=(e,s,t)=>{n(a=>a.map(a=>a.id===e?{...a,[s]:t}:a))},A=(e,s,t)=>{"Enter"===e.key?C(null):"Escape"===e.key&&C(null)};return(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white/98 shadow-sm",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200 sticky top-0 h-12",children:[(0,a.jsx)("th",{className:"w-12 px-3 py-2 text-left",children:(0,a.jsx)(h.X,{checked:c.size===l.length&&l.length>0,onCheckedChange:e=>z(e),"aria-label":"Select all"})}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Task"}),(0,a.jsx)("th",{className:"w-44 px-3 py-2 text-left text-slate-600 font-semibold",children:"Status"}),(0,a.jsx)("th",{className:"w-28 px-3 py-2 text-left text-slate-600 font-semibold",children:"Date"}),(0,a.jsx)("th",{className:"w-36 px-3 py-2 text-left text-slate-600 font-semibold",children:"Priority"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Ongoing Notes"})]})}),(0,a.jsx)("tbody",{children:l.map(e=>{let s=c.has(e.id);return(0,a.jsxs)("tr",{className:(0,d.cn)("h-14 border-b border-slate-100 hover:bg-slate-50 transition-colors group",s&&"bg-emerald-50 border-l-4 border-emerald-600"),children:[(0,a.jsx)("td",{className:"w-12 px-3 py-2",children:(0,a.jsx)(h.X,{checked:s,onCheckedChange:s=>k(e.id,s),"aria-label":"Select row ".concat(e.company)})}),(0,a.jsx)("td",{className:"px-3 py-2 text-slate-900 font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.z,{variant:"ghost",size:"icon",className:"h-auto w-auto p-0 text-slate-400 group-hover:text-slate-700 transition-colors",onClick:()=>t(e),children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})}),(null==F?void 0:F.id)===e.id&&"company"===F.field?(0,a.jsx)(j.I,{ref:S,value:e.company,onChange:s=>U(e.id,"company",s.target.value),onBlur:()=>C(null),onKeyDown:s=>A(s,e.id,"company"),className:"h-8 px-2 py-1 text-sm border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"}):(0,a.jsx)("span",{onClick:()=>C({id:e.id,field:"company"}),className:"flex-1 cursor-text",children:e.company||"New Task"}),(0,a.jsx)(b.z,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 text-slate-400 hover:text-slate-700",onClick:()=>t(e),children:(0,a.jsx)(m.v,{count:0,className:"ml-2"})})]})}),(0,a.jsx)("td",{className:"w-44 px-3 py-2",children:(0,a.jsxs)(f.Ph,{value:e.status,onValueChange:s=>U(e.id,"status",s),children:[(0,a.jsx)(f.i4,{className:"h-7 w-24 px-2 py-0.5 text-xs border-slate-300 rounded-full bg-white text-slate-700 hover:bg-slate-50",children:(0,a.jsx)(f.ki,{placeholder:e.status?(0,a.jsx)(i.t,{status:e.status}):(0,a.jsx)(i.t,{status:"",isEmpty:!0})})}),(0,a.jsx)(f.Bw,{children:N.map(e=>(0,a.jsx)(f.Ql,{value:e,children:e?(0,a.jsx)(i.t,{status:e}):"Select Status"},e||"empty"))})]})}),(0,a.jsx)("td",{className:"w-28 px-3 py-2 text-slate-700",children:(0,a.jsxs)(p.J2,{children:[(0,a.jsx)(p.xo,{asChild:!0,children:(0,a.jsx)(b.z,{variant:"ghost",className:(0,d.cn)("h-7 w-full justify-start text-left font-normal px-2 py-0.5 text-xs",!e.nextFollowUp&&"text-slate-500"),children:e.nextFollowUp?(0,v.WU)(new Date(e.nextFollowUp),"MMM d"):"Set Date"})}),(0,a.jsx)(p.yk,{className:"w-auto p-0",children:(0,a.jsx)(g.f,{mode:"single",selected:e.nextFollowUp?new Date(e.nextFollowUp):void 0,onSelect:s=>U(e.id,"nextFollowUp",s?(0,v.WU)(s,"yyyy-MM-dd"):void 0),initialFocus:!0})})]})}),(0,a.jsx)("td",{className:"w-36 px-3 py-2",children:(0,a.jsxs)(f.Ph,{value:e.priority,onValueChange:s=>U(e.id,"priority",s),children:[(0,a.jsx)(f.i4,{className:"h-7 w-20 px-2 py-0.5 text-xs border-slate-300 rounded-full bg-white text-slate-700 hover:bg-slate-50",children:(0,a.jsx)(f.ki,{placeholder:e.priority?(0,a.jsx)(x,{priority:e.priority}):(0,a.jsx)(x,{priority:"",isEmpty:!0})})}),(0,a.jsx)(f.Bw,{children:w.map(e=>(0,a.jsx)(f.Ql,{value:e,children:e?(0,a.jsx)(x,{priority:e}):"Select Priority"},e||"empty"))})]})}),(0,a.jsx)("td",{className:"px-3 py-2 text-slate-600 max-w-xs truncate",children:(null==F?void 0:F.id)===e.id&&"notes"===F.field?(0,a.jsx)(j.I,{ref:S,value:e.notes,onChange:s=>U(e.id,"notes",s.target.value),onBlur:()=>C(null),onKeyDown:s=>A(s,e.id,"notes"),className:"h-8 px-2 py-1 text-sm border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"}):(0,a.jsx)("span",{onClick:()=>C({id:e.id,field:"notes"}),className:"flex-1 cursor-text",children:e.notes||"Add notes..."})})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 px-4 py-2 text-sm text-slate-600 border-t border-slate-200",children:[(0,a.jsx)("span",{children:0===l.length?"No tasks":"showing 1â€“".concat(l.length," of ").concat(l.length)}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(b.z,{variant:"outline",size:"sm",disabled:!0,className:"border-slate-200 text-slate-700 hover:bg-slate-50",children:"Prev"}),(0,a.jsx)(b.z,{variant:"outline",size:"sm",disabled:!0,className:"border-slate-200 text-slate-700 hover:bg-slate-50",children:"Next"})]})]})]})}new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0});let F=e=>({1:"Critical",2:"High",3:"Medium",4:"Low",5:"Critical",6:"High",7:"Medium",8:"Low"})[String(e.charCodeAt(0)%8+1)]||"Low",C=e=>({1:2,2:0,3:5,4:0,5:1,6:0,7:3,8:0})[String(e.charCodeAt(0)%8+1)]||0;function S(e){let{onOpenEmptyDrawer:s,tempLeads:t,setTempLeads:o,onAddEmptyRow:c}=e,{items:j,total:f,page:g,pageSize:v,setPage:N,refresh:w}=(0,l.m)(),[S,k]=(0,r.useState)(null),[z,U]=(0,r.useState)(!1),[A,P]=(0,r.useState)(new Set),Z=0===f?0:(g-1)*v+1,I=Math.min(g*v,f),D=(e,s)=>{P(t=>{let a=new Set(t);return s?a.add(e):a.delete(e),a})},L=e=>{e?P(new Set(j.map(e=>e.id))):P(new Set)};return j&&0!==j.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200 sticky top-0",children:[(0,a.jsx)("th",{className:"w-12 px-3 py-2 text-left",children:(0,a.jsx)(h.X,{checked:A.size===j.length&&j.length>0,onCheckedChange:e=>L(e),"aria-label":"Select all"})}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Task"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Status"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Date"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Priority"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-slate-600 font-semibold",children:"Ongoing Notes"})]})}),(0,a.jsxs)("tbody",{children:[j.map(e=>{var s,t;let l=A.has(e.id),r=C(e.id),n=F(e.id);return(0,a.jsxs)("tr",{className:(0,d.cn)("h-12 border-t border-slate-100 hover:bg-slate-50 transition-colors group",l&&"bg-emerald-50 border-l-4 border-emerald-600"),children:[(0,a.jsx)("td",{className:"w-12 px-3 py-2",children:(0,a.jsx)(h.X,{checked:l,onCheckedChange:s=>D(e.id,s),"aria-label":"Select row ".concat(e.company)})}),(0,a.jsx)("td",{className:"px-3 py-2 text-slate-900 font-medium cursor-pointer",onClick:()=>{k(e),U(!0)},children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-slate-400 group-hover:text-slate-700 transition-colors"}),e.company,r>0&&(0,a.jsx)(m.v,{count:r,className:"ml-2"})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)(i.t,{status:e.status})}),(0,a.jsx)("td",{className:"px-3 py-2 text-slate-700",children:e.nextFollowUp?e.nextFollowUp.slice(0,10):"N/A"}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)(x,{priority:n})}),(0,a.jsx)("td",{className:"px-3 py-2 text-slate-600 max-w-xs truncate",children:(0,a.jsxs)(p.J2,{children:[(0,a.jsx)(p.xo,{asChild:!0,children:(0,a.jsx)(b.z,{variant:"ghost",size:"sm",className:"h-auto p-0 text-slate-600 hover:text-slate-900",children:(null===(s=e.customFields)||void 0===s?void 0:s.notes)||"Add notes..."})}),(0,a.jsx)(p.yk,{className:"w-80 p-2 text-sm text-slate-700",children:(null===(t=e.customFields)||void 0===t?void 0:t.notes)||"No ongoing notes."})]})})]},e.id)}),0===j.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"text-center text-slate-400 py-6",children:"No leads found."})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 px-4 py-2 text-sm text-slate-600 border-t border-slate-200",children:[(0,a.jsx)("span",{children:0===f?"No leads":"showing ".concat(Z,"â€“").concat(I," of ").concat(f)}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(b.z,{variant:"outline",size:"sm",onClick:()=>N(g-1),disabled:g<=1,className:"border-slate-200 text-slate-700 hover:bg-slate-50",children:"Prev"}),(0,a.jsx)(b.z,{variant:"outline",size:"sm",onClick:()=>N(g+1),disabled:g*v>=f,className:"border-slate-200 text-slate-700 hover:bg-slate-50",children:"Next"})]})]}),(0,a.jsx)(n.R,{lead:S,open:z,onClose:()=>U(!1),onSaved:w})]}):(0,a.jsx)(y,{onOpenDrawer:s,tempLeads:t,setTempLeads:o,onAddRow:c})}},9023:function(e,s,t){t.d(s,{E:function(){return c}});var a=t(7437),l=t(2265),r=t(2934),n=t(9733),i=t(7398),d=t(7209),o=t(402);function c(e){let{open:s,onClose:t}=e,{customFields:c,addCustomField:x,renameCustomField:m,deleteCustomField:h}=(0,r.m)(),[u,p]=(0,l.useState)({name:"",label:""}),[b,j]=(0,l.useState)(null),[f,g]=(0,l.useState)({name:"",label:""});function v(e){e.preventDefault(),null!==b&&(m(c[b].name,f.name,f.label),j(null))}return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-slate-900/30 flex items-center justify-center z-50",children:(0,a.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:200,damping:25},className:"bg-white text-slate-900 rounded-xl shadow-lg p-6 w-96 border border-slate-200",children:[(0,a.jsx)("div",{className:"text-lg font-semibold mb-3 text-slate-900",children:"Manage Custom Fields"}),(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.name&&u.label&&(x({...u}),p({name:"",label:""}))},className:"flex gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"grid gap-1 flex-1",children:[(0,a.jsx)(o._,{htmlFor:"new-field-name",className:"sr-only",children:"Field Name"}),(0,a.jsx)(d.I,{id:"new-field-name",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Field name (e.g. industry)",value:u.name,onChange:e=>p(s=>({...s,name:e.target.value})),required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-1 flex-1",children:[(0,a.jsx)(o._,{htmlFor:"new-field-label",className:"sr-only",children:"Label"}),(0,a.jsx)(d.I,{id:"new-field-label",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Label (e.g. Industry)",value:u.label,onChange:e=>p(s=>({...s,label:e.target.value})),required:!0})]}),(0,a.jsx)(n.z,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg",children:"Add"})]}),(0,a.jsxs)("ul",{className:"space-y-2 mb-4",children:[c.map((e,s)=>(0,a.jsx)("li",{className:"flex items-center gap-2 text-slate-700 p-2 bg-slate-50 rounded-md border border-slate-100",children:b===s?(0,a.jsxs)("form",{onSubmit:v,className:"flex gap-2 flex-1",children:[(0,a.jsx)(d.I,{className:"border-slate-200 bg-white rounded px-2 py-1 flex-1 text-slate-900 focus:border-emerald-500 focus:ring-emerald-500",value:f.name,onChange:e=>g(s=>({...s,name:e.target.value})),required:!0}),(0,a.jsx)(d.I,{className:"border-slate-200 bg-white rounded px-2 py-1 flex-1 text-slate-900 focus:border-emerald-500 focus:ring-emerald-500",value:f.label,onChange:e=>g(s=>({...s,label:e.target.value})),required:!0}),(0,a.jsx)(n.z,{type:"submit",size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"Save"}),(0,a.jsx)(n.z,{type:"button",size:"sm",variant:"secondary",onClick:()=>j(null),className:"bg-slate-100 hover:bg-slate-200 text-slate-800",children:"Cancel"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"flex-1",children:[e.label," ",(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["(",e.name,")"]})]}),(0,a.jsx)(n.z,{size:"sm",variant:"secondary",onClick:()=>{j(s),g({...c[s]})},className:"bg-slate-100 hover:bg-slate-200 text-slate-800",children:"Rename"}),(0,a.jsx)(n.z,{size:"sm",variant:"destructive",onClick:()=>h(e.name),className:"bg-rose-600 hover:bg-rose-700 text-white",children:"Delete"})]})},e.name)),0===c.length&&(0,a.jsx)("li",{className:"text-slate-500 text-sm text-center py-4",children:"No custom fields defined."})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.z,{variant:"secondary",onClick:t,className:"bg-slate-100 hover:bg-slate-200 text-slate-800",children:"Close"})})]})}):null}},2176:function(e,s,t){t.d(s,{Q:function(){return x}});var a=t(7437),l=t(2934),r=t(7559),n=t(2265),i=t(3954),d=t(9733);let o=["New","In Progress","Negotiation","Won","Lost"],c=new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0});function x(e){let{onSelect:s}=e,t=(0,l.m)(e=>e.items),x=(0,l.m)(e=>e.refresh),[m,h]=(0,n.useState)(null),[u,p]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2",children:o.map(e=>{let l=t.filter(s=>s.status===e);return(0,a.jsxs)("div",{className:"min-w-[280px] flex-1 bg-slate-50 rounded-lg border border-slate-200 p-3 flex flex-col shadow-sm",children:[(0,a.jsxs)("div",{className:"font-semibold mb-3 flex items-center justify-between text-slate-900",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full",children:l.length})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[l.map(e=>(0,a.jsxs)(d.z,{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-3 text-left hover:shadow-md transition-all cursor-pointer h-auto flex flex-col items-start gap-1",onClick:()=>s(e),variant:"ghost",children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:e.company}),(0,a.jsx)("div",{className:"text-xs text-slate-600",children:e.owner}),(0,a.jsx)("div",{className:"text-sm font-semibold text-emerald-700",children:c.format(e.value)}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["Next: ",e.nextFollowUp?e.nextFollowUp.slice(0,10):"N/A"]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(i.t,{status:e.status})})]},e.id)),0===l.length&&(0,a.jsx)("div",{className:"text-sm text-slate-500 text-center py-6",children:"No leads in this stage."})]})]},e)})}),(0,a.jsx)(r.R,{lead:m,open:u,onClose:()=>p(!1),onSaved:x})]})}},7559:function(e,s,t){t.d(s,{R:function(){return k}});var a=t(7437),l=t(2265),r=t(9733),n=t(6864),i=t(420),d=t(4919),o=t(2365),c=t(2092),x=t(3907),m=t(994),h=t(8184),u=t(2023),p=t(933),b=t(9354),j=t(7209),f=t(402),g=t(9888),v=t(9081),N=t(1413),w=t(6343),y=t(2934);let F=["New","In Progress","Negotiation","Won","Lost"],C=["Yash","Alexis","Ops"],S=["Critical","High","Medium","Low"];function k(e){let{lead:s,open:t,onClose:k,onSaved:z}=e,[U,A]=(0,l.useState)(s),[P,Z]=(0,l.useState)(!1),[I,D]=(0,l.useState)([]),[L,_]=(0,l.useState)(!1),[O,M]=(0,l.useState)("updates"),{addLead:V,updateLead:T}=(0,y.m)(),[W,E]=(0,l.useState)([]),[B,Y]=(0,l.useState)([]),[q,H]=(0,l.useState)(""),[Q,X]=(0,l.useState)(null),J=s&&s.id.startsWith("temp-");if((0,l.useEffect)(()=>{A(s),s&&t?(_(!0),setTimeout(()=>{J?(D([]),E([]),Y([])):(D([{id:"a1",field:"status",oldValue:"New",newValue:"In Progress",at:"2024-07-29T10:05:00Z"},{id:"a2",field:"value",oldValue:"5000",newValue:"5500",at:"2024-07-29T11:15:00Z"}]),E([{id:"1",author:{name:"Yash",initials:"Y"},timestamp:"2024-07-29T10:00:00Z",content:"Initial contact made. Client seems interested in our new product line."},{id:"2",author:{name:"Alexis",initials:"A"},timestamp:"2024-07-29T14:30:00Z",content:"Sent follow-up email with detailed proposal. Awaiting response."}]),Y([{id:"1",name:"Proposal_AcmeInc.pdf",size:"1.2 MB",uploadedAt:"2024-07-29T14:35:00Z"}])),_(!1)},500)):(D([]),E([]),Y([]),H(""),X(null))},[s,t,J]),!t||!U)return null;async function R(){Z(!0);try{if(J){let e={company:U.company,status:U.status||"New",owner:U.owner||"Yash",value:U.value,nextFollowUp:U.nextFollowUp,customFields:{...U.customFields||{},...U.priority?{priority:U.priority}:{},...U.notes?{notes:U.notes}:{}}},s=await V(e);z&&z(s,U.id)}else{let e={company:U.company,status:U.status,owner:U.owner,value:U.value,nextFollowUp:U.nextFollowUp,customFields:U.customFields};await T(U.id,e),z&&z(U)}}finally{Z(!1)}}return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-slate-900/30",onClick:k}),(0,a.jsxs)("aside",{className:"relative ml-auto w-full max-w-md bg-white h-full shadow-lg flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[(0,a.jsx)("div",{className:"font-semibold text-lg text-slate-900",children:"Task Details"}),(0,a.jsx)("button",{className:"text-2xl text-slate-400 hover:text-slate-600",onClick:k,children:"\xd7"})]}),(0,a.jsxs)(n.mQ,{value:O,onValueChange:M,className:"flex flex-col flex-1",children:[(0,a.jsxs)(n.dr,{className:"grid w-full grid-cols-4 h-auto rounded-none border-b border-slate-200 bg-slate-50 p-0",children:[(0,a.jsxs)(n.SP,{value:"updates",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:["Updates (",W.length,")"]}),(0,a.jsxs)(n.SP,{value:"files",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:["Files (",B.length,")"]}),(0,a.jsx)(n.SP,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:"Activity Log"}),(0,a.jsx)(n.SP,{value:"item-card",className:"data-[state=active]:bg-white data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-emerald-600 data-[state=active]:text-emerald-800 rounded-none text-slate-600 hover:text-slate-900 py-3",children:"Item Card"})]}),(0,a.jsxs)(n.nU,{value:"updates",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"border border-slate-200 rounded-lg p-3 mb-4 bg-slate-50",children:[(0,a.jsx)(d.g,{placeholder:"@mention someone, add an update...",className:"w-full border-none focus-visible:ring-0 resize-none bg-transparent text-slate-900 placeholder:text-slate-500",rows:3,value:q,onChange:e=>H(e.target.value)}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})}),(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})}),(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",children:(0,a.jsx)(x.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)(r.z,{size:"sm",onClick:()=>{if(q.trim()){let e={id:String(W.length+1),author:{name:"Current User",initials:"CU"},timestamp:new Date().toISOString(),content:q.trim()};E(s=>[e,...s]),H("")}},disabled:!q.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-2"})," Update"]})]})]}),(0,a.jsx)("div",{className:"flex-1 space-y-4",children:0===W.length?(0,a.jsx)("div",{className:"text-center text-slate-500 py-6",children:"No updates yet."}):W.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsx)(i.qE,{className:"w-8 h-8",children:(0,a.jsx)(i.Q5,{className:"bg-emerald-100 text-emerald-800",children:e.author.initials})}),(0,a.jsxs)("div",{className:"flex-1 bg-slate-50 rounded-lg p-3 border border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:e.author.name}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-sm text-slate-700",children:e.content})]})]},e.id))})]}),(0,a.jsxs)(n.nU,{value:"files",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("input",{id:"file-upload",type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){X(e.target.files[0]);let s={id:String(B.length+1),name:e.target.files[0].name,size:(e.target.files[0].size/1024/1024).toFixed(2)+" MB",uploadedAt:new Date().toISOString()};Y(e=>[...e,s]),X(null)}}}),(0,a.jsxs)("label",{htmlFor:"file-upload",className:"flex items-center justify-center gap-2 px-4 py-2 border border-dashed border-slate-300 rounded-md cursor-pointer text-slate-700 hover:bg-slate-50 transition-colors",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"})," Upload File"]})]}),(0,a.jsx)("div",{className:"flex-1 space-y-2",children:0===B.length?(0,a.jsx)("div",{className:"text-center text-slate-500 py-6",children:"No files uploaded."}):B.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 border border-slate-200 rounded-md bg-slate-50",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 text-slate-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-slate-600",children:[e.size," - ",new Date(e.uploadedAt).toLocaleDateString()]})]})]},e.id))})]}),(0,a.jsxs)(n.nU,{value:"activity",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"font-semibold mb-2 text-slate-900",children:"Audit Trail"}),L?(0,a.jsx)("div",{className:"text-slate-500 text-sm",children:"Loading activity..."}):0===I.length?(0,a.jsx)("div",{className:"text-slate-500 text-sm",children:"No activity yet."}):(0,a.jsx)("ul",{className:"space-y-3 text-sm",children:I.map(e=>{var s,t;return(0,a.jsxs)("li",{className:"border-b border-slate-100 pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"font-medium",children:e.field})," changed from\xa0",(0,a.jsx)("span",{className:"line-through text-rose-500",children:null!==(s=e.oldValue)&&void 0!==s?s:"â€”"}),"\xa0to\xa0",(0,a.jsx)("span",{className:"text-emerald-600",children:null!==(t=e.newValue)&&void 0!==t?t:"â€”"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 mt-1 ml-6",children:new Date(e.at).toLocaleString()})]},e.id)})})]}),(0,a.jsxs)(n.nU,{value:"item-card",className:"flex-1 flex flex-col p-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"font-semibold text-lg mb-4 text-slate-900",children:"Lead Information"}),(0,a.jsxs)("form",{className:"flex flex-col gap-3 flex-1",onSubmit:e=>{e.preventDefault(),R()},children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"company",children:"Company"}),(0,a.jsx)(j.I,{id:"company",value:U.company,onChange:e=>A({...U,company:e.target.value}),required:!0,className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(g.Ph,{value:U.status,onValueChange:e=>A({...U,status:e}),children:[(0,a.jsx)(g.i4,{id:"status",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",children:(0,a.jsx)(g.ki,{placeholder:"Select Status"})}),(0,a.jsx)(g.Bw,{children:F.map(e=>(0,a.jsx)(g.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"owner",children:"Owner"}),(0,a.jsxs)(g.Ph,{value:U.owner,onValueChange:e=>A({...U,owner:e}),children:[(0,a.jsx)(g.i4,{id:"owner",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",children:(0,a.jsx)(g.ki,{placeholder:"Select Owner"})}),(0,a.jsx)(g.Bw,{children:C.map(e=>(0,a.jsx)(g.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"value",children:"Value (CAD)"}),(0,a.jsx)(j.I,{id:"value",type:"number",min:0,value:U.value,onChange:e=>A({...U,value:Number(e.target.value)}),required:!0,className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"nextFollowUp",children:"Next Follow-up"}),(0,a.jsxs)(N.J2,{children:[(0,a.jsx)(N.xo,{asChild:!0,children:(0,a.jsx)(r.z,{variant:"outline",className:(0,b.cn)("w-full justify-start text-left font-normal",!U.nextFollowUp&&"text-muted-foreground"),children:U.nextFollowUp?(0,w.WU)(new Date(U.nextFollowUp),"PPP"):(0,a.jsx)("span",{children:"Pick a date"})})}),(0,a.jsx)(N.yk,{className:"w-auto p-0",children:(0,a.jsx)(v.f,{mode:"single",selected:U.nextFollowUp?new Date(U.nextFollowUp):void 0,onSelect:e=>A({...U,nextFollowUp:e?(0,w.WU)(e,"yyyy-MM-dd"):void 0}),initialFocus:!0})})]})]}),"priority"in U&&(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)(g.Ph,{value:U.priority,onValueChange:e=>A({...U,priority:e}),children:[(0,a.jsx)(g.i4,{id:"priority",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",children:(0,a.jsx)(g.ki,{placeholder:"Select Priority"})}),(0,a.jsx)(g.Bw,{children:S.map(e=>(0,a.jsx)(g.Ql,{value:e,children:e},e))})]})]}),"notes"in U&&(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"notes",children:"Ongoing Notes"}),(0,a.jsx)(d.g,{id:"notes",value:U.notes,onChange:e=>A({...U,notes:e.target.value}),className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),U.customFields&&Object.keys(U.customFields).length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-semibold mt-4 text-slate-900",children:"Custom Fields"}),Object.entries(U.customFields).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f._,{htmlFor:"custom-".concat(s),children:s}),(0,a.jsx)(j.I,{id:"custom-".concat(s),value:t,onChange:e=>A({...U,customFields:{...U.customFields,[s]:e.target.value}}),className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]},s)})]}),(0,a.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-200 flex justify-end gap-2",children:[(0,a.jsx)(r.z,{type:"button",variant:"secondary",onClick:k,className:"bg-slate-100 hover:bg-slate-200 text-slate-800",children:"Close"}),(0,a.jsx)(r.z,{type:"submit",disabled:P,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"Save Changes"})]})]})]})]})]})]})}},8836:function(e,s,t){t.d(s,{I:function(){return h}});var a=t(7437),l=t(2265),r=t(2934),n=t(9733),i=t(7398),d=t(7209),o=t(402),c=t(9888);let x=["New","In Progress","Negotiation","Won","Lost"],m=["Yash","Alexis","Ops"];function h(e){let{open:s,onClose:t}=e,{addLead:h,customFields:u}=(0,r.m)(),[p,b]=(0,l.useState)(""),[j,f]=(0,l.useState)("New"),[g,v]=(0,l.useState)("Yash"),[N,w]=(0,l.useState)(0),[y,F]=(0,l.useState)(""),[C,S]=(0,l.useState)({});return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-slate-900/30 flex items-center justify-center z-50",children:(0,a.jsxs)(i.E.form,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:200,damping:25},onSubmit:function(e){e.preventDefault(),p&&y&&(h({company:p,status:j,owner:g,value:N,nextFollowUp:y,customFields:C}),t(),b(""),f("New"),v("Yash"),w(0),F(""),S({}))},className:"bg-white text-slate-900 rounded-xl shadow-lg p-6 w-80 flex flex-col gap-3 border border-slate-200",children:[(0,a.jsx)("div",{className:"text-lg font-semibold mb-2 text-slate-900",children:"New Deal"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o._,{htmlFor:"company",children:"Company"}),(0,a.jsx)(d.I,{id:"company",placeholder:"Company Name",value:p,onChange:e=>b(e.target.value),required:!0,className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(c.Ph,{value:j,onValueChange:e=>f(e),children:[(0,a.jsx)(c.i4,{id:"status",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",children:(0,a.jsx)(c.ki,{placeholder:"Select Status"})}),(0,a.jsx)(c.Bw,{children:x.map(e=>(0,a.jsx)(c.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o._,{htmlFor:"owner",children:"Owner"}),(0,a.jsxs)(c.Ph,{value:g,onValueChange:e=>v(e),children:[(0,a.jsx)(c.i4,{id:"owner",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",children:(0,a.jsx)(c.ki,{placeholder:"Select Owner"})}),(0,a.jsx)(c.Bw,{children:m.map(e=>(0,a.jsx)(c.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o._,{htmlFor:"value",children:"Value (CAD)"}),(0,a.jsx)(d.I,{id:"value",type:"number",min:0,placeholder:"0",value:N,onChange:e=>w(Number(e.target.value)),required:!0,className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o._,{htmlFor:"nextFollowUp",children:"Next Follow-up"}),(0,a.jsx)(d.I,{id:"nextFollowUp",type:"date",value:y,onChange:e=>F(e.target.value),required:!0,className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),u.length>0&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,a.jsx)("div",{className:"font-semibold text-sm text-slate-700",children:"Custom Fields"}),u.map(e=>(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(o._,{htmlFor:"custom-".concat(e.name),children:e.label}),(0,a.jsx)(d.I,{id:"custom-".concat(e.name),className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500",placeholder:e.label,value:C[e.name]||"",onChange:s=>S(t=>({...t,[e.name]:s.target.value}))})]},e.name))]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsx)(n.z,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg",children:"Add Deal"}),(0,a.jsx)(n.z,{type:"button",variant:"secondary",onClick:t,className:"bg-slate-100 hover:bg-slate-200 text-slate-800",children:"Cancel"})]})]})}):null}},8090:function(e,s,t){t.d(s,{Y:function(){return v}});var a=t(7437),l=t(7138),r=t(6463),n=t(1995),i=t(7140),d=t(1902),o=t(4142),c=t(1568),x=t(6540),m=t(3852),h=t(5293),u=t(2421),p=t(9354),b=t(9733),j=t(1413),f=t(9973);let g=[{name:"Tasks",href:"/crm",icon:n.Z},{name:"Sprints",href:"/crm/sprints",icon:i.Z},{name:"Epics",href:"/crm/epics",icon:d.Z},{name:"Bugs Queue",href:"/crm/bugs",icon:o.Z},{name:"Retrospectives",href:"/crm/retrospectives",icon:c.Z},{name:"Getting Started",href:"/crm/getting-started",icon:x.Z},{name:"Master Tracker",href:"/crm/master-tracker",icon:m.Z}];function v(){let e=(0,r.usePathname)();return(0,a.jsxs)("aside",{className:"w-[280px] bg-white border-r border-slate-200 flex flex-col py-6 px-4",children:[(0,a.jsxs)(j.J2,{children:[(0,a.jsx)(j.xo,{asChild:!0,children:(0,a.jsxs)(b.z,{variant:"ghost",className:"justify-between px-3 py-2 mb-6 text-lg font-semibold text-slate-900 hover:bg-slate-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-emerald-600"}),"Sattva Leaf"]}),(0,a.jsx)(u.Z,{className:"w-4 h-4 text-slate-500"})]})}),(0,a.jsx)(j.yk,{className:"w-48 p-1",children:(0,a.jsx)("div",{className:"text-sm text-slate-700 p-2",children:"No other workspaces available."})})]}),(0,a.jsx)("nav",{className:"flex flex-col gap-1",children:g.map(s=>{let{name:t,href:r,icon:n}=s;return(0,a.jsxs)(l.default,{href:r,className:(0,p.cn)("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors",e===r?"bg-emerald-50 text-emerald-800 border-l-4 border-emerald-600 -ml-4 pl-3":"text-slate-600 hover:bg-slate-50"),children:[(0,a.jsx)(n,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:t})]},r)})}),(0,a.jsx)(f.Z,{className:"my-4 bg-slate-200"}),(0,a.jsxs)(l.default,{href:"/crm/sattva-leaf-tasks",className:(0,p.cn)("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors","/crm/sattva-leaf-tasks"===e?"bg-emerald-50 text-emerald-800 border-l-4 border-emerald-600 -ml-4 pl-3":"text-slate-600 hover:bg-slate-50"),children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Sattva Leaf Tasks"})]})]})}},3954:function(e,s,t){t.d(s,{t:function(){return n}});var a=t(7437),l=t(9354);let r={New:"bg-slate-100 text-slate-800 border border-slate-200","In Progress":"bg-sky-100 text-sky-800 border border-sky-200",Negotiation:"bg-fuchsia-100 text-fuchsia-800 border border-fuchsia-200",Won:"bg-teal-100 text-teal-800 border border-teal-200",Lost:"bg-rose-100 text-rose-800 border border-rose-200"};function n(e){let{status:s,isEmpty:t=!1}=e;return t||!s?(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium border border-slate-300 bg-white text-transparent",children:"\xa0"}):(0,a.jsx)("span",{className:(0,l.cn)("px-2 py-0.5 rounded-full text-xs font-medium",r[s]),children:s})}},3468:function(e,s,t){t.d(s,{o:function(){return C}});var a=t(7437),l=t(2265),r=t(9733),n=t(7209),i=t(1413),d=t(1590),o=t(2513),c=t(2421),x=t(4817),m=t(2022),h=t(404),u=t(6900),p=t(7019),b=t(6477),j=t(3550),f=t(9354),g=t(2934);let v=["Main table","Board","Dashboard","Files","Gantt","Workload","Calendar","Log","Form","Chart","Card","Roadmap tracker"],N=["All","New","In Progress","Negotiation","Won","Lost"],w=["All","Yash","Alexis","Ops"],y=[{label:"Company (A-Z)",value:"company-asc"},{label:"Company (Z-A)",value:"company-desc"},{label:"Value (Low-High)",value:"value-asc"},{label:"Value (High-Low)",value:"value-desc"},{label:"Next Follow-up (Asc)",value:"nextFollowUp-asc"},{label:"Next Follow-up (Desc)",value:"nextFollowUp-desc"}],F=["Status","Owner","Value","Next Follow-up","Notes"];function C(e){let{onNewDealClick:s}=e,{q:t,status:C,owner:S,setFilters:k,refresh:z}=(0,g.m)(),[U,A]=(0,l.useState)("Main table"),[P,Z]=(0,l.useState)(t||""),[I,D]=(0,l.useState)(C||"All"),[L,_]=(0,l.useState)(S||"All"),[O,M]=(0,l.useState)(""),[V,T]=(0,l.useState)(F.reduce((e,s)=>({...e,[s]:!0}),{})),W=e=>{D(e),k({status:e}),z()},E=e=>{_(e),k({owner:e}),z()},B=e=>{M(e),console.log("Sort by:",e),z()},Y=e=>{T(s=>({...s,[e]:!s[e]}))};return(0,a.jsxs)("div",{className:"bg-white border-b border-slate-200 px-6 py-3",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-4 border-b border-slate-200 -mx-6 px-6",children:v.map((e,s)=>(0,a.jsxs)(r.z,{variant:"ghost",onClick:()=>A(e),className:(0,f.cn)("relative text-sm font-medium text-slate-600 hover:text-slate-900 pb-3 pt-2",U===e&&"text-emerald-700 after:absolute after:bottom-0 after:left-0 after:w-full after:h-[2px] after:bg-emerald-600"),children:[e,s===v.length-1&&(0,a.jsx)(r.z,{variant:"ghost",size:"sm",className:"ml-2 p-0 h-auto w-auto text-slate-500 hover:text-slate-700",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)(d.h_,{children:[(0,a.jsx)(d.$F,{asChild:!0,children:(0,a.jsxs)(r.z,{className:"bg-emerald-600 hover:bg-emerald-700 text-white flex items-center gap-1",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"})," New Task ",(0,a.jsx)(c.Z,{className:"w-4 h-4 ml-1"})]})}),(0,a.jsxs)(d.AW,{align:"start",children:[(0,a.jsx)(d.Xi,{onClick:s,children:"New Deal"})," ",(0,a.jsx)(d.Xi,{children:"New Project (Placeholder)"})]})]}),(0,a.jsxs)("div",{className:"relative flex-1 min-w-[150px] max-w-xs",children:[(0,a.jsx)(x.Z,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,a.jsx)(n.I,{type:"text",placeholder:"Search...",className:"pl-8 pr-2 py-1 border border-slate-200 rounded-md text-sm focus:border-emerald-500 focus:ring-emerald-500",value:P,onChange:e=>{Z(e.target.value),k({q:e.target.value}),z()}})]}),(0,a.jsxs)(i.J2,{children:[(0,a.jsx)(i.xo,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"})," Person","All"!==L&&(0,a.jsx)("span",{className:"ml-1 text-xs font-semibold bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded-full",children:L})]})}),(0,a.jsx)(i.yk,{className:"w-48 p-1",children:w.map(e=>(0,a.jsx)(d.Xi,{onClick:()=>E(e),children:e},e))})]}),(0,a.jsxs)(i.J2,{children:[(0,a.jsx)(i.xo,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"})," Filter",("All"!==I||"All"!==L)&&(0,a.jsx)("span",{className:"ml-1 text-xs font-semibold bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded-full",children:"Active"})]})}),(0,a.jsxs)(i.yk,{className:"w-64 p-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Filters"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Status"}),(0,a.jsx)("select",{className:"w-full border border-slate-200 rounded-md px-2 py-1 text-sm",value:I,onChange:e=>W(e.target.value),children:N.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Owner"}),(0,a.jsx)("select",{className:"w-full border border-slate-200 rounded-md px-2 py-1 text-sm",value:L,onChange:e=>E(e.target.value),children:w.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Date (Placeholder)"}),(0,a.jsx)(n.I,{type:"date",className:"w-full border border-slate-200 rounded-md px-2 py-1 text-sm"})]})]})]})]}),(0,a.jsxs)(i.J2,{children:[(0,a.jsx)(i.xo,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"})," Sort",O&&(0,a.jsx)("span",{className:"ml-1 text-xs font-semibold bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded-full",children:"Active"})]})}),(0,a.jsx)(i.yk,{className:"w-48 p-1",children:y.map(e=>(0,a.jsx)(d.Xi,{onClick:()=>B(e.value),children:e.label},e.value))})]}),(0,a.jsxs)(i.J2,{children:[(0,a.jsx)(i.xo,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"})," Hide"]})}),(0,a.jsxs)(i.yk,{className:"w-48 p-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Hide Columns"}),(0,a.jsx)("div",{className:"space-y-1",children:F.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("input",{type:"checkbox",checked:V[e],onChange:()=>Y(e),className:"form-checkbox h-4 w-4 text-emerald-600 rounded border-slate-300 focus:ring-emerald-500"})]},e))})]})]}),(0,a.jsxs)(i.J2,{children:[(0,a.jsx)(i.xo,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-1 text-slate-700 border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"})," Group by"]})}),(0,a.jsx)(i.yk,{className:"w-48 p-2",children:(0,a.jsx)("div",{className:"text-sm text-slate-700",children:"Group by (Placeholder)"})})]}),(0,a.jsxs)(d.h_,{children:[(0,a.jsx)(d.$F,{asChild:!0,children:(0,a.jsx)(r.z,{variant:"outline",size:"icon",className:"text-slate-700 border-slate-200 hover:bg-slate-50",children:(0,a.jsx)(j.Z,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.AW,{align:"end",children:[(0,a.jsx)(d.Xi,{children:"Placeholder Option 1"}),(0,a.jsx)(d.Xi,{children:"Placeholder Option 2"})]})]})]})]})}},9973:function(e,s,t){t.d(s,{Z:function(){return i}});var a=t(7437),l=t(2265),r=t(8484),n=t(9354);let i=l.forwardRef((e,s)=>{let{className:t,orientation:l="horizontal",decorative:i=!0,...d}=e;return(0,a.jsx)(r.f,{ref:s,decorative:i,orientation:l,className:(0,n.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",t),...d})});i.displayName=r.f.displayName},2934:function(e,s,t){t.d(s,{m:function(){return r}});var a=t(903);let l=[{id:"1",company:"Acme Inc.",status:"New",owner:"Yash",value:5e3,nextFollowUp:"2024-07-10",customFields:{notes:"Initial contact made."}},{id:"2",company:"Globex Corp.",status:"In Progress",owner:"Alexis",value:2500,nextFollowUp:"2024-07-12",customFields:{notes:"Sent proposal."}},{id:"3",company:"Soylent Corp.",status:"Negotiation",owner:"Ops",value:8e3,nextFollowUp:"2024-07-15",customFields:{notes:"Discussing terms."}},{id:"4",company:"Initech",status:"Won",owner:"Yash",value:3200,nextFollowUp:"2024-07-18",customFields:{notes:"Contract signed."}},{id:"5",company:"Umbrella Corp.",status:"Lost",owner:"Alexis",value:1500,nextFollowUp:"2024-07-20",customFields:{notes:"Client went with competitor."}},{id:"6",company:"Hooli",status:"New",owner:"Ops",value:4200,nextFollowUp:"2024-07-22",customFields:{notes:"Follow up next week."}},{id:"7",company:"Stark Industries",status:"Negotiation",owner:"Yash",value:9e3,nextFollowUp:"2024-07-25",customFields:{notes:"High potential deal."}},{id:"8",company:"Wayne Enterprises",status:"In Progress",owner:"Ops",value:6100,nextFollowUp:"2024-07-28",customFields:{notes:"Meeting scheduled."}}],r=(0,a.U)((e,s)=>({items:l,total:l.length,page:1,pageSize:10,q:"",status:"All",owner:"",customFields:[],setFilters:t=>{e({...t,page:1}),s().refresh()},setPage:t=>{e({page:t}),s().refresh()},refresh:async()=>{let{q:t,status:a,owner:l,page:r,pageSize:n,items:i}=s(),d=i;t&&(d=d.filter(e=>e.company.toLowerCase().includes(t.toLowerCase()))),a&&"All"!==a&&(d=d.filter(e=>e.status===a)),l&&"All"!==l&&(d=d.filter(e=>e.owner===l));let o=d.length,c=(r-1)*n;e({items:d.slice(c,c+n),total:o})},addLead:async t=>{let a={id:String(Date.now()),...t,status:t.status||"New",owner:t.owner||"Yash",customFields:t.customFields||{}};return e(e=>({items:[...e.items,a],total:e.total+1})),await s().refresh(),a},updateLead:async(t,a)=>{e(e=>({items:e.items.map(e=>e.id===t?{...e,...a}:e)})),await s().refresh()},deleteLead:async t=>{e(e=>({items:e.items.filter(e=>e.id!==t),total:e.total-1})),await s().refresh()},addCustomField:s=>{e(e=>({customFields:[...e.customFields,s]}))},renameCustomField:(s,t,a)=>{e(e=>({customFields:e.customFields.map(e=>e.name===s?{name:t,label:a}:e),items:e.items.map(e=>{if(e.customFields&&s in e.customFields){let a={...e.customFields};return a[t]=a[s],delete a[s],{...e,customFields:a}}return e})}))},deleteCustomField:s=>{e(e=>({customFields:e.customFields.filter(e=>e.name!==s),items:e.items.map(e=>{if(e.customFields&&s in e.customFields){let t={...e.customFields};return delete t[s],{...e,customFields:t}}return e})}))}}))}}]);